#include <lanelet2_io/io.h>
#include <lanelet2_core/LaneletMap.h>

int main() {
    // Define input and output filenames
    std::string filename_in = "laneletmapfinal.osm"; // Your Lanelet2 .osm file
    std::string filename_out = "laneletmapfinal.bin"; // Desired output .bin file

    // Define an origin for the map (e.g., latitude and longitude)
    // This is important for geographic projection
    lanelet::Origin origin(49.0, 8.4); //no idea

    // Load the Lanelet2 map from the .osm file
    lanelet::LaneletMapPtr laneletMap = lanelet::load(filename_in, origin);

    // Save the Lanelet2 map to the .bin file
    lanelet::write(filename_out, *laneletMap);

    return 0;
}
